# bot/locales.py - FINAL VERSION (No Flag Emojis)

translations = {
    "en": {
        "welcome": "Welcome, {name}! Please /login (if you have an account) or /register (for a new account).",
        "ask_username": "Please send your username.",
        "ask_password": "Got it. Now, please send your password.",
        "login_success": "✅ Login successful! You can now use all commands.",
        "login_fail": "❌ Login failed. Invalid username or password.",
        "lang_select": "Please select your language:",
        "lang_updated": "Language updated to English.",
        "balance_header": "📊 *Your Financial Summary*",
        "owes_you": "owes you",
        "you_owe": "You owe",
        "no_debts": "Your slate is clean! No outstanding debts. ✨",
        "main_menu_prompt": "Here are the main commands:",
        "btn_balance": "📊 My Balance",
        "btn_new_expense": "💸 New Expense",
        "btn_groups": "👥 My Groups",
        "btn_my_votes": "🗳️ My Votes",
        "btn_wallet": "💰 My Wallet",
        "btn_settings": "⚙️ Settings",
        "expense_start": "Let's add a new expense. Which group is this for?",
        "expense_no_groups": "You are not a member of any groups yet. Please ask someone to add you to a group first.",
        "expense_ask_desc": "Great. What is the description of the expense? (e.g., 'Lunch at City Stars')",
        "expense_ask_amount": "Got it. What's the total amount? (e.g., 250.50)",
        "expense_invalid_amount": "That doesn't look like a valid amount. Please send a number.",
        "expense_ask_category": "OK. Which category does this fall under?",
        "expense_ask_participants": "Who participated in this expense? You are included by default. Tap to add/remove others.",
        "expense_summary_header": "🔔 *Please confirm the details:*",
        "expense_summary_body": "\n- *Group:* {group_name}\n- *Description:* {description}\n- *Amount:* {amount}\n- *Category:* {category}\n- *Participants:* {participants}",
        "expense_request_sent": "✅ Your expense request has been submitted for voting.",
        "confirm": "✅ Confirm",
        "cancel": "❌ Cancel",
        "done_selecting": "👍 Done",
        "coming_soon": "This feature is coming soon!",
        "groups_menu_header": "👥 My Groups",
        "groups_select_prompt": "Select a group to see its details, or create a new one.",
        "btn_create_group": "➕ Create New Group",
        "group_details_header": "Details for group *{group_name}*:",
        "group_members_title": "Members:",
        "btn_add_member": "➕ Add Member", "btn_remove_member": "➖ Remove Member", "btn_view_wallet": "💰 View Wallet", "btn_back_to_groups": "⬅️ Back to Groups", "btn_back_to_main": "⬅️ Main Menu",
        "ask_add_member_name": "Who do you want to add? Please type their exact username.",
        "user_not_found": "❌ User '{username}' not found. Please check the spelling.",
        "user_already_in_group": "User '{username}' is already in this group.",
        "add_member_success": "✅ Successfully added '{username}' to the group!",
        "ask_remove_member": "Select a member to remove:",
        "remove_member_success": "✅ Successfully removed '{username}' from the group.",
        "create_group_ask_name": "What is the name of the new group?",
        "create_group_ask_desc": "Great. Now provide a short description for '{group_name}' (or /skip).",
        "group_created_success": "✅ Group '{group_name}' created successfully!",
        "register_start": "Let's create a new account for you. Please choose a username.",
        "register_username_taken": "Sorry, this username is already taken. Please choose another one.",
        "register_ask_password": "Excellent, '{username}' is available. Now, please choose a password (min. 6 characters).",
        "register_ask_confirm_password": "Please send the password again to confirm.",
        "register_password_mismatch": "Passwords do not match. Please try again. What is your desired password?",
        "register_success": "🎉 Registration successful! You are now logged in.",
        "my_votes_header": "🗳️ *Pending Actions for Your Vote*",
        "no_pending_votes": "You have no pending actions to vote on. ✅",
        "vote_exp_details": "_{desc}_\n*Amount:* `{amount}`\n*Category:* `{category}`\n*By:* `{initiator}`\n*On:* `{date}`",
        "vote_dep_details": "_{desc}_\n*Amount:* `{amount}`\n*By:* `{initiator}`\n*On:* `{date}`",
        "wallet_select_group": "Which group's wallet do you want to manage?",
        "wallet_menu_header": "💰 Wallet for group *{group_name}*",
        "wallet_balance_info": "Total Balance: `{total}`\nYour Balance: `{user_balance}`",
        "btn_deposit": "📥 Deposit", "btn_withdraw": "📤 Withdraw", "btn_settle_debts": "⚖️ Settle Debts",
        "ask_deposit_amount": "How much would you like to deposit?",
        "ask_withdraw_amount": "How much would you like to withdraw? Your max is `{max_amount}`.",
        "ask_withdraw_password": "For security, please enter your password to confirm the withdrawal.",
        "deposit_submitted": "✅ Your deposit request has been submitted for voting.",
        "withdrawal_success": "✅ Withdrawal successful. The new balance has been updated.",
        "settle_debts_confirm": "This will attempt to settle all debts for members who have enough funds in this wallet. Are you sure?",
        "settle_debts_submitted": "Settlement process initiated. You will be notified of the results.",
    },

    "ar": {
        # Arabic translations mapped 1-to-1 with English keys
        "welcome": "أهلاً بك، {name}! من فضلك استخدم /login (إذا كان لديك حساب) أو /register (لحساب جديد).",
        "ask_username": "من فضلك أرسل اسم المستخدم الخاص بك.",
        "ask_password": "حسنًا. الآن، أرسل كلمة المرور الخاصة بك.",
        "login_success": "✅ تم تسجيل الدخول بنجاح! يمكنك الآن استخدام جميع الأوامر.",
        "login_fail": "❌ فشل في تسجيل الدخول. اسم المستخدم أو كلمة المرور غير صحيحة.",
        "lang_select": "من فضلك اختر لغتك:",
        "lang_updated": "تم تحديث اللغة إلى الإنجليزية. 🇬🇧",
        "balance_header": "📊 *ملخصك المالي*",
        "owes_you": "مدين لك",
        "you_owe": "أنت مدين",
        "no_debts": "كل شيء سليم! لا توجد ديون مستحقة. ✨",
        "main_menu_prompt": "هذه هي الأوامر الرئيسية:",
        "btn_balance": "📊 ملخصي المالي",
        "btn_new_expense": "💸 مصروف جديد",
        "btn_groups": "👥 مجموعاتي",
        "btn_my_votes": "🗳️ تصويتاتي",
        "btn_wallet": "💰 خزنـتي",
        "btn_settings": "⚙️ الإعدادات",
        "expense_start": "لنقم بإضافة مصروف جديد. لأي مجموعة؟",
        "expense_no_groups": "لست عضوًا في أي مجموعة حتى الآن.",
        "expense_ask_desc": "رائع. ما هو وصف المصروف؟",
        "expense_ask_amount": "تم. كم هو المبلغ الإجمالي؟",
        "expense_invalid_amount": "هذا لا يبدو كمبلغ صحيح. من فضلك أرسل رقمًا.",
        "expense_ask_category": "تمام. ما هو تصنيف المصروف؟",
        "expense_ask_participants": "من شارك في هذا المصروف؟ سيتم تضمينك تلقائيًا. اضغط لإضافة/إزالة الآخرين.",
        "expense_summary_header": "🔔 *يرجى تأكيد التفاصيل:*",
        "expense_summary_body": "\n- *المجموعة:* {group_name}\n- *الوصف:* {description}\n- *المبلغ:* {amount}\n- *التصنيف:* {category}\n- *المشاركون:* {participants}",
        "expense_request_sent": "✅ تم إرسال طلب المصروف للتصويت.",
        "confirm": "✅ تأكيد",
        "cancel": "❌ إلغاء",
        "done_selecting": "👍 تم",
        "coming_soon": "هذه الميزة قادمة قريبًا!",

        # Group & Wallet
        "groups_menu_header": "👥 مجموعاتي",
        "groups_select_prompt": "اختر مجموعة لرؤية تفاصيلها، أو قم بإنشاء واحدة جديدة.",
        "btn_create_group": "➕ إنشاء مجموعة جديدة",
        "group_details_header": "تفاصيل مجموعة *{group_name}*:",
        "group_members_title": "الأعضاء:",
        "btn_add_member": "➕ إضافة عضو",
        "btn_remove_member": "➖ إزالة عضو",
        "btn_view_wallet": "💰 عرض الخزنة",
        "btn_back_to_groups": "⬅️ العودة للمجموعات",
        "btn_back_to_main": "⬅️ القائمة الرئيسية",
        "ask_add_member_name": "من تريد إضافته؟ من فضلك اكتب اسم المستخدم الخاص به بدقة.",
        "user_not_found": "❌ لم يتم العثور على المستخدم '{username}'. تحقق من الاسم.",
        "user_already_in_group": "المستخدم '{username}' موجود بالفعل في هذه المجموعة.",
        "add_member_success": "✅ تم إضافة '{username}' إلى المجموعة بنجاح!",
        "ask_remove_member": "اختر عضوًا لإزالته:",
        "remove_member_success": "✅ تم إزالة '{username}' من المجموعة بنجاح.",
        "create_group_ask_name": "ما هو اسم المجموعة الجديدة؟",
        "create_group_ask_desc": "ممتاز. الآن أدخل وصفًا قصيرًا لمجموعة '{group_name}' (أو استخدم /skip للتخطي).",
        "group_created_success": "✅ تم إنشاء مجموعة '{group_name}' بنجاح!",

        # Register
        "register_start": "لنقم بإنشاء حساب جديد لك. من فضلك اختر اسم مستخدم.",
        "register_username_taken": "عذرًا، اسم المستخدم هذا محجوز. اختر آخر.",
        "register_ask_password": "ممتاز، '{username}' متاح. الآن اختر كلمة مرور (6 أحرف على الأقل).",
        "register_ask_confirm_password": "أعد إرسال كلمة المرور للتأكيد.",
        "register_password_mismatch": "كلمتا المرور غير متطابقتين. أعد المحاولة. ما هي كلمتك السرية؟",
        "register_success": "🎉 تم التسجيل بنجاح! أنت الآن مسجل دخولك.",

        # Votes
        "my_votes_header": "🗳️ *طلبات تنتظر تصويتك*",
        "no_pending_votes": "لا توجد طلبات بانتظار تصويتك. ✅",
        "vote_exp_details": "*{desc}*\n*المبلغ:* `{amount}`\n*التصنيف:* `{category}`\n*بواسطة:* `{initiator}`\n*في:* `{date}`",
        "vote_dep_details": "*{desc}*\n*المبلغ:* `{amount}`\n*بواسطة:* `{initiator}`\n*في:* `{date}`",

        # Wallet
        "wallet_select_group": "أي خزنة مجموعة تريد إدارتها؟",
        "wallet_menu_header": "💰 خزنة مجموعة *{group_name}*",
        "wallet_balance_info": "الرصيد الإجمالي: `{total}`\nرصيدك: `{user_balance}`",
        "btn_deposit": "📥 إيداع",
        "btn_withdraw": "📤 سحب",
        "btn_settle_debts": "⚖️ تسوية الديون",
        "ask_deposit_amount": "ما المبلغ الذي تريد إيداعه؟",
        "ask_withdraw_amount": "كم تريد سحب؟ الحد الأقصى: `{max_amount}`.",
        "ask_withdraw_password": "للتأكيد، أدخل كلمة المرور.",
        "deposit_submitted": "✅ تم إرسال طلب الإيداع للتصويت.",
        "withdrawal_success": "✅ تمت عملية السحب. تم تحديث الرصيد.",
        "settle_debts_confirm": "سيتم تسوية الديون المتاحة لأعضاء يملكون رصيدًا كافيًا. هل أنت متأكد؟",
        "settle_debts_submitted": "بدأت عملية التسوية. سيتم إعلامك بالنتائج."
    }
}
def t(key, lang="en", **kwargs):
    return translations.get(lang, translations.get("en", {})).get(key, key).format(**kwargs)
